# cPanel Configuration for React SPA
# This file should be placed in your public_html directory

# Enable rewrite module
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Handle client-side routing - more aggressive approach
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.html [L]
</IfModule>

# Alternative method if mod_rewrite is not available
<IfModule !mod_rewrite.c>
    ErrorDocument 404 /index.html
</IfModule>

# Force all unknown routes to index.html
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Handle deep routes specifically
    RewriteRule ^study-guide/.*$ /index.html [L]
    RewriteRule ^study/.*$ /index.html [L]
    RewriteRule ^services.*$ /index.html [L]
    RewriteRule ^about.*$ /index.html [L]
    RewriteRule ^contact.*$ /index.html [L]
    RewriteRule ^success-stories.*$ /index.html [L]
    
    # Catch all remaining routes
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.html [QSA,L]
</IfModule>

# MIME types to prevent blank page issues
<IfModule mod_mime.c>
    AddType application/javascript .js
    AddType text/css .css
    AddType image/png .png
    AddType image/jpg .jpg
    AddType image/jpeg .jpeg
    AddType image/gif .gif
    AddType image/svg+xml .svg
</IfModule>

# Fallback for any routing issues
ErrorDocument 404 /index.html
ErrorDocument 500 /index.html
